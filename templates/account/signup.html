{% extends "base.html" %}
{% load allauth i18n %}

{% block head_title %}
{% trans "Register" %}
{% endblock head_title %}

{% block content %}
<!-- Display Form Errors Here -->
<div class="row">
    <div class="col-lg-6 offset-lg-3">
        {% if form.errors %}
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            {% for field in form %}
            {% for error in field.errors %}
            <p class="paragraph mb-0">{{ error }}</p>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            {% endfor %}
            {% endfor %}
            {% for error in form.non_field_errors %}
            <p class="paragraph mb-0">{{ error }}</p>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            {% endfor %}
        </div>
        {% endif %}
    </div>
</div>


<!-- Register heading -->
<div class="container">
    <div class="col-lg-6 offset-lg-3">
        <h1 class="heading auth-headings">{% trans "Register" %}</h1>
    </div>
    <div class="col-lg-6 offset-lg-3">
        <p class="paragraph">
            {% blocktranslate %}Welcome to The Globetrotter's Gazette. If you already have an account then please sign
            in <a href="{{ login_url }}" class="link link-dark">here</a>.{% endblocktranslate %}
        </p>
    </div>
    <!-- Register form -->
    <div class="col-lg-6 offset-lg-3">
        <form method="post" action="/accounts/signup/">
            {% csrf_token %}
            <p class="paragraph">
                <label for="id_username">Username:</label>
                <br>
                <input type="text" name="username" placeholder="Username" autocomplete="username" minlength="1"
                    maxlength="150" required="" id="id_username">
            </p>
            <p class="paragraph">
                <label for="id_email">Email:</label>
                <br>
                <input type="email" name="email" placeholder="Email address" autocomplete="email" maxlength="320"
                    id="id_email" required>
            </p>
            <p class="paragraph">
                <label for="id_password1">Password:</label>
                <br>
                <input type="password" name="password1" placeholder="Password" autocomplete="new-password" required
                    id="id_password1">

                <span class="helptext"></span></p>
            <p class="paragraph">
                <label for="id_password2">Password (again):</label>
                <br>
                <input type="password" name="password2" placeholder="Password (again)" autocomplete="new-password"
                    required="" id="id_password2">
            </p>
            <ul class="paragraph">
                <li>Your password can’t be too similar to your other personal information.</li>
                <li>Your password must contain at least 8 characters.</li>
                <li>Your password can’t be a commonly used password.</li>
                <li>Your password can’t be entirely numeric.</li>
            </ul>
            {{ redirect_field }}
            <button class="btn btn-text btn-colour" type="submit">Register</button>
        </form>
    </div>
</div>

{% endblock %}
